{"version":3,"file":"utils-15c71b6e.js","sources":["../../src/utils.ts"],"sourcesContent":["import type { PageObject } from \"./types/notion/pages/page.js\";\nimport type { Properties } from \"./types/notion/pages/properties/properties.js\";\nimport type { TitlePropertyItemObject } from \"./types/notion/pages/properties/title.js\";\nimport type { RichText } from \"./types/notion/richText/richText.js\";\nimport type {\n  DatabaseObjectResponse,\n  PageObjectResponse,\n  RichTextItemResponse,\n} from \"@notionhq/client/build/src/api-endpoints.js\";\n\nexport const splitTitleAndOtherProperties = (\n  properties: Properties | PageObjectResponse[\"properties\"]\n) => {\n  let title: TitlePropertyItemObject | undefined;\n  const other: Properties = {};\n\n  Object.entries(properties).forEach(([key, value]) => {\n    if (isTitleProperty(value)) {\n      title = value;\n    } else {\n      other[key] = value;\n    }\n  });\n\n  return { title, other };\n};\n\nexport const extractTitle = (\n  pageOrDatabase: PageObject | PageObjectResponse | DatabaseObjectResponse\n): RichText | RichTextItemResponse[] => {\n  if (pageOrDatabase.object === \"page\") {\n    const { title } = splitTitleAndOtherProperties(pageOrDatabase.properties);\n    return title?.title ?? [];\n  }\n\n  if (pageOrDatabase.object === \"database\") {\n    return pageOrDatabase.title;\n  }\n\n  return [];\n};\n\nexport const isTitleProperty = (\n  property: PageObjectResponse[\"properties\"][string] | Properties[string]\n): property is TitlePropertyItemObject => property.type === \"title\";\n"],"names":["splitTitleAndOtherProperties","properties","title","other","key","value","isTitleProperty","extractTitle","pageOrDatabase","property"],"mappings":"AAUa,MAAAA,EACXC,GACG,CACC,IAAAC,EACJ,MAAMC,EAAoB,CAAA,EAEnB,cAAA,QAAQF,CAAU,EAAE,QAAQ,CAAC,CAACG,EAAKC,CAAK,IAAM,CAC/CC,EAAgBD,CAAK,EACfH,EAAAG,EAERF,EAAMC,CAAG,EAAIC,CACf,CACD,EAEM,CAAE,MAAAH,EAAO,MAAAC,EAClB,EAEaI,EACXC,GACsC,CAClC,GAAAA,EAAe,SAAW,OAAQ,CACpC,KAAM,CAAE,MAAAN,CAAU,EAAAF,EAA6BQ,EAAe,UAAU,EACjE,OAAAN,GAAA,YAAAA,EAAO,QAAS,EACzB,CAEI,OAAAM,EAAe,SAAW,WACrBA,EAAe,MAGjB,EACT,EAEaF,EACXG,GACwCA,EAAS,OAAS"}